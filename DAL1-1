using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Data;
using System.Data.SqlClient;

namespace register
{
    class DAL
    {

        SqlConnection con;
        public SqlCommand com;
        SqlDataAdapter da;
        public SqlDataReader dr;
        //string username, password;
        public DAL()
        {

            con = new SqlConnection();
            con.ConnectionString = @"Data Source=DESKTOP-2IRQ1NM;Initial Catalog=assignment3;Integrated Security=True ";
            com = new SqlCommand();
            da = new SqlDataAdapter();
            com.Connection = con;
            da.SelectCommand = com;


        }
        public void EXE(string SQL, String[] paramsArray, String[] valuesArray)
        {//waitr

            com.Connection = con;
            com.CommandText = SQL;
            for (int i = 0; i < paramsArray.Length; i++)
            {
                com.Parameters.AddWithValue(paramsArray[i], valuesArray[i]);
            }
            con.Open();
            com.ExecuteNonQuery();
            con.Close();

        }
        public void EXE1(string SQL)
        {

            com.Connection = con;
            com.CommandText = SQL;
            con.Open();
            com.ExecuteNonQuery();


        }
        public DataTable Select(string SQL)
        {

            com.CommandText = SQL;
            DataTable dt = new DataTable();
            da.Fill(dt);
            return (dt);


        }
        public void connect()
        {

            con.ConnectionString = @"Data Source=DESKTOP-2IRQ1NM;Initial Catalog=assignment3;Integrated Security=True ";
            con.Open();


        }
        public void disconnect()
        {

            con.Close();

        }

        public String[][] getMajors()
        {
            String[][] majors = new String[2][];
            majors[0] = new String[2];
            //
            majors[0][0] = "102";
            majors[0][1] = "ریاضی";
            //
            majors[1] = new String[2];
            majors[1][0] = "101";
            majors[1][1] = "نرم افزار";
            return majors;
        }

    }
    public void EXE1(string SQL)
        {

            com.Connection = con;
            com.CommandText = SQL;
            con.Open();
            com.ExecuteNonQuery();


        }
  public DataTable Select(string SQL)
        {

            com.CommandText = SQL;
            DataTable dt = new DataTable();
            da.Fill(dt);
            return (dt);


        }
}
